# Ho-Kago-Tea-Time

新竹政策黑客松。

# 技術

## 前端

- React + Vite + pnpm
- Mapbox
- shadcn/ui + Tailwind
- Zustand
- Apache ECharts（儀表板）

## 後端

- Supabase (PostgreSQL + PostGIS + minIO)

## AI

- (OpenAI?) MCP
- FastAPI

# 功能

我們黑客松做一個地圖，來視覺化社區的保養維護狀態。

- 所有功能無需登入。
- 2D 地圖：
- 多圖層，每個圖層代表不同項目：
    - 可以篩選要看到的東西，如公園維護、房屋老化。
        - 圖層很多，會根據需求分類，如生活安全、公共建設、服務、交通等等。
            - 維度可以包含：
                - 設施老化程度 / 維修逾期比例
                - 周邊人口結構（老人、小孩多不多）
                - 過去通報/事故紀錄
        - 不是只畫哪裡壞掉，而是算出每一個區域的「處理優先度」算出一個綜合「風險分數」，做成熱度圖。
        - 因為圖層很多，所以有一個選單可以直接選「情境模式」
            - 我家附近安全嗎？路燈故障、路面坑洞、公園健康卡、危老建物、近期通報點、行人事故點
            - 官員想找優先處理的區域？風險模型（老化×人口×通報量）、逾期工單集中度、哪些里沒預算但事故多
    - 也可以用顏色表示。顏色可能是填滿房屋地址區域（如近期有檢查的公園是綠色、這個區域安全性低所以紅色），或是資訊卡圖釘顏色（這個飲水機有在定期換濾芯）。
    - 可能是圖釘點擊顯示資訊卡
        - 圖標點擊會顯示設備維護紀錄、房屋檢查紀錄、通報問題。
            - 圖針點擊顯示資訊卡，打開之後可以回報這個東西或區域的問題，這樣會開一個 ticket 回報狀態。
                - 回報問題會需要回答基本問題，然後可以拍照。圖片存在 minio。
                - 回報狀態也可以是回報狀態良好，這就不會開卡片。
                - 如果已經有人回報或是已知問題（如損壞、或是施工中）會顯示狀態，點擊會打開頁面顯示進度條。
                - 每一個維護案件 / 檢查任務，都有一條時間軸：何時通報 → 何時派工 → 何時完工。
                - 市府對外可以設定 SLA（例如 30 天內完成）
                - 有通報 = 黃色 ⚠️已逾期 = 紅色 🚨
            - 舉例，每個公園/遊戲/路燈/樹木等等都有一張圖標卡片：
                - 圖標按下去會顯示卡片
                - 類似醫院病歷，但是 **設備健康狀態**：
                    - 最近一次檢查日期
                    - 有無待修項目（溜滑梯螺絲鬆動、地墊破損…）
                    - 過去一年事故/通報紀錄數
                - 用顏色 / 等級標示：
                    - A：最近一個月檢查，無待修
                    - B：兩個月內檢查，有輕微待修
                    - C：超過三個月未檢查／有重要待修
        - 如果是區域（如西屯區）點擊也會顯示資訊卡，可以點擊連結跳到儀表板。
    - 可以搜尋地址來快速定位到區域
    - 有 Chatbot 功能能夠接 MCP 來查詢四周是否安全，或是搜尋資訊。
    - 「政策實驗模式」：如果多一點預算會改善哪裡？
        - 官員在儀表板上調整：「如果我們把公園維護預算 +20%，優先給風險高、有小孩多的里…」預期可以把多少紅色區域降到黃色/綠色
- 很多圖表的儀表板。有一個網頁可以搜尋區域，也可以透過地圖的資訊卡來進入儀表板，然後統計相關資訊
    - 如西屯區資料筆數，各個項目的平均狀態和分布（如 50% 公園一個月內有檢查）。
    - 哪個單位/類型案件最常延誤
- 管理員頁面。可以查看通報的列表和內容。
    - 市府對外可以設定 SLA（例如 30 天內完成）
    - 設備壽命預警，如公園每月應該維護，因此可以看到公園的列表，可以看到表格哪間公園倒數幾天來排列。
- 可以有任務牆讓大家主動協助檢查社區。